{% extends 'base.html' %} {% block content %}
<body>
  <div class="bg-cover bg-no-repeat bg-top min-h-[50vh]">
    <style>
      .banner-top {
        background-repeat: no-repeat;

        background-size: cover;

        background-position: top center;

        background-attachment: local;
      }
    </style>

    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!-- main stuff -->

    <!-- Zoom Controls -->
    <div class="flex items-center w-full h-28">
      <div class="flex-col ml-24">
        <div class="font-bold text-gray-700 text-2xl text-center">
          Green Yellow modern circle prisma
        </div>
        <div
          class="flex justify-center items-center py-1 border-[#006837] border-2 rounded-[10px] w-12 font-bold text-[#006837] text-[14px]"
        >
          SR
        </div>
      </div>

      <div class="flex ml-auto">
        <!-- download as pdf -->
        <a
          href="https://drive.google.com/file/d/1eDtIsgFL5Esl7qf2AN8I7bRoZ41iPJYv/view?usp=sharing"
          download="Nahida_Report.pdf"
        >
          <div
            class="flex justify-center items-center space-x-2 bg-white hover:bg-green-500 px-4 py-2 border-[#808080] border-2 hover:border-green-500 rounded-[20px] h-10 overflow-hidden font-bold text-[14px] text-black hover:text-white text-center active:scale-95 transition-all duration-200 ease-in-out cursor-pointer"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="w-5 h-5"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M12 3v12m0 0l3.75-3.75M12 15.75L8.25 12m11.25 8.25H4.5c-.621 0-1.125-.504-1.125-1.125V4.5c0-.621.504-1.125 1.125-1.125h6.75m6 0h6.75c.621 0 1.125.504 1.125 1.125v14.25c0 .621-.504 1.125-1.125 1.125z"
              />
            </svg>
            <span>Download as PDF</span>
          </div>
        </a>
        <!-- download as pdf end -->
      </div>
      <!-- save button -->
      <a
        href="https://drive.google.com/file/d/1eDtIsgFL5Esl7qf2AN8I7bRoZ41iPJYv/view?usp=sharing"
        download="Nahida_Report.pdf"
      >
        <div
          class="flex justify-center items-center bg-white hover:bg-green-500 mr-24 ml-2 border-[#808080] border-2 hover:border-green-500 rounded-[15px] h-10 w-10 overflow-hidden font-bold text-[14px] text-black hover:text-white text-center active:scale-95 transition-all duration-200 ease-in-out cursor-pointer"
        >
          <svg
            style="width: 30px; height: 30px"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="1"
            viewBox="0 0 24 24"
          >
            <path
              d="M20 7.828a2 2 0 0 0-.586-1.414l-1.828-1.828A2 2 0 0 0 16.172 4H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.828z"
            ></path>
            <path d="M14 4v4H8V4m0 16v-8h8v8"></path>
          </svg>
        </div>
      </a>
      <!-- save button end -->
    </div>
    <div class="flex justify-center">
      <div class="flex justify-start items-center w-[210mm] text-xl gap-auto">
        <span class="mr-auto">Page 1 / 2 - Cover Page</span>
        <button>
          <img
            class="w-5 h-5"
            src="https://cdn3.iconfinder.com/data/icons/linecons-free-vector-icons-pack/32/trash-512.png"
            alt="Delete"
          />
        </button>
      </div>
    </div>
    <div class="flex justify-center mx-24 p-0 overflow-scroll no-scrollbar">
      <!-- this is where the template goes -->

      <div id="editable-area">{{ html_content|safe }}</div>
    </div>

    <!-- main stuff end-->

    <!-- page viewer -->
    <div class="px-4 overflow-x-auto">
      <div
        class="flex justify-center items-center space-x-3 min-w-max h-32 pt-5"
      >
        <!-- Option 1 -->
        <button class="flex flex-col items-center option-btn" data-text="Cover">
          <img
            src="https://s3-id-jkt-1.kilatstorage.id/reporthink/rpthink/cover-big.png"
            alt="Template Image"
            class="border-[#B7E546] border-2 rounded-[10px] w-auto h-24 object-cover hover:scale-105 transition-all duration-75 ease-in-out"
          />
        </button>
        <!-- option 1 end -->

        <!-- plus button -->
        <!-- The Button -->
        <button
          id="open-popup"
          class="flex justify-center items-center bg-slate-300 p-2 rounded-lg font-extralight text-4xl hover:scale-105"
          data-text="Cover"
        >
          +
        </button>

        <!-- Popup Modal (initially hidden) -->
        <div
          id="popup-window"
          style="margin: 0px"
          class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 hidden"
        >
          <div class="inline-block bg-white shadow-lg p-6 rounded-xl">
            <h2 class="mb-4 font-semibold text-lg">Select Template Parts</h2>

            <div class="gap-4 grid grid-cols-4">
              <!-- Option 1 -->
              <button
                class="flex flex-col items-center mb-4 option-btn"
                data-text="Cover"
              >
                <img
                  src="https://s3-id-jkt-1.kilatstorage.id/reporthink/rpthink/cover-big.png"
                  alt="Template Image"
                  class="border-[#B7E546] border-2 rounded-[10px] w-auto h-40 object-cover hover:scale-105 transition-all duration-75 ease-in-out"
                />
                <span class="mt-2 font-medium text-black">Cover</span>
              </button>

              <!-- Option 2 -->
              <button
                class="flex flex-col items-center mb-4 option-btn"
                data-text="Daftar Isi"
              >
                <img
                  src="https://s3-id-jkt-1.kilatstorage.id/reporthink/template%2080%20-%20Green%20and%20Yellow%20Modern%20Company%20Profile%20Booklet/thumbnails/daftar%20isi%201.png"
                  alt="Other Template"
                  class="border-2 border-gray-300 rounded-[10px] w-auto h-40 object-cover hover:scale-105 transition-all duration-75 ease-in-out"
                />
                <span class="mt-2 font-medium text-black">Daftar Isi</span>
              </button>
              <!-- Option 3 -->
              <button
                class="flex flex-col items-center mb-4 option-btn"
                data-text="Divider"
              >
                <img
                  src="https://s3-id-jkt-1.kilatstorage.id/reporthink/template%2080%20-%20Green%20and%20Yellow%20Modern%20Company%20Profile%20Booklet/thumbnails/divider%201.png"
                  alt="Other Template"
                  class="border-2 border-gray-300 rounded-[10px] w-auto h-40 object-cover hover:scale-105 transition-all duration-75 ease-in-out"
                />
                <span class="mt-2 font-medium text-black">Divider</span>
              </button>
              <!-- Option 4 -->
              <button
                class="flex flex-col items-center mb-4 option-btn"
                data-text="1C text Image"
              >
                <img
                  src="https://s3-id-jkt-1.kilatstorage.id/reporthink/template%2080%20-%20Green%20and%20Yellow%20Modern%20Company%20Profile%20Booklet/thumbnails/isi%201C%20text%20image.png"
                  alt="Other Template"
                  class="border-2 border-gray-300 rounded-[10px] w-auto h-40 object-cover hover:scale-105 transition-all duration-75 ease-in-out"
                />
                <span class="mt-2 font-medium text-black"
                  >Isi 1C text Image</span
                >
              </button>
            </div>

            <!-- Close Modal -->
            <button
              id="close-popup"
              class="bg-red-500 hover:bg-red-700 px-4 py-2 rounded w-full text-white"
            >
              Close
            </button>
          </div>
        </div>
        <!-- pop up modal end -->

        <!-- plus button end -->
      </div>
    </div>
    <!-- page viewer end -->
    <!-- page number and zoom part -->
    <div class="flex w-full h-10">
      <div class="ml-24 font-bold text-gray-700 text-2xl text-center">
        Page 1 / 2
      </div>
      <!-- zoom slider  -->
      <div class="flex items-center mr-24 ml-auto">
        <!-- <button id="zoom-out"></button> -->
        <input
          class="hover:scale-105 transition-all duration-100 ease-in-out"
          style="width: 200px; height: 5px"
          id="zoom-slider"
          type="range"
          min="0.1"
          max="2"
          step="0.1"
          value="2"
        />
        <button id="zoom-in">
          <img
            class="opacity-50 hover:opacity-100 ml-5 w-7 h-auto hover:scale-125 transition-all duration-100 ease-in-out"
            src="https://img.icons8.com/ios/50/000000/zoom-in.png"
          />
        </button>
      </div>

      <!-- zoom slider end -->
    </div>
    <!-- page number and zoom part end -->

    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
  </div>
  <!-- pop up (modal script) -->
  <script>
    const openBtn = document.getElementById("open-popup");
    const closeBtn = document.getElementById("close-popup");
    const popup = document.getElementById("popup-window");

    openBtn.addEventListener("click", () => {
      popup.classList.remove("hidden");
    });

    closeBtn.addEventListener("click", () => {
      popup.classList.add("hidden");
    });
  </script>

  <!-- zoom slider script -->
  <script>
    const background = document.querySelector(".background");
    const backgroundChange = document.getElementById("background-change");
    const zoomSlider = document.getElementById("zoom-slider");
    const zoomOutButton = document.getElementById("zoom-out");
    const zoomInButton = document.getElementById("zoom-in");

    //change bg
    backgroundChange.addEventListener("click", () => {
      // Select the background element
      const background = document.querySelector(".background");

      // Update the background gradient to match Nahida's color theme
      background.style.background =
        "linear-gradient(to bottom, #5a7d5a, #406d40)";
    });
    // Set default scale
    const defaultScale = 1;
    zoomSlider.value = defaultScale; // Ensure slider starts at 0.5
    background.style.transform = `scale(${defaultScale})`; // Set initial scale

    // Function to set the scale
    function setScale(scale) {
      background.style.transform = `scale(${scale})`;
    }

    // Zoom In Button
    zoomInButton.addEventListener("click", () => {
      let newScale = parseFloat(zoomSlider.value) + 0.1;
      if (newScale > 2) newScale = 2; // Cap at 100%
      zoomSlider.value = newScale.toFixed(1); // Update slider value
      setScale(newScale);
    });

    // Zoom Out Button
    zoomOutButton.addEventListener("click", () => {
      let newScale = parseFloat(zoomSlider.value) - 0.1;
      if (newScale < 0.1) newScale = 0.1; // Cap at 10%
      zoomSlider.value = newScale.toFixed(1); // Update slider value
      setScale(newScale);
    });

    // Slider Input
    zoomSlider.addEventListener("input", (e) => {
      setScale(e.target.value);
    });
  </script>
  <!-- zoom slider script -->
</body>
{% endblock %}
